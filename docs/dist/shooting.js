/*! For license information please see shooting.js.LICENSE.txt */
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=Math.floor(1e3/60),r=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},o=new(function(){function t(t){var e=this;this.isReady=!1,this.image=new Image,this.image.src=t,this.image.onload=function(){e.isReady=!0},this.image.onerror=function(t){}}return t.prototype.getImage=function(){if(this.isReady)return this.image},t}())("asset/img/sprite.png"),a=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i},s=[new a(0,0,22,42),new a(23,0,33,42),new a(57,0,43,42),new a(101,0,33,42),new a(135,0,21,42)],u=function(){function t(){this.x=57600,this.y=102400,this.speed=1024,this.anime=0}var e=t.prototype;return e.update=function(){h[37]&&this.x>this.speed?(this.x-=this.speed,this.anime>-8&&--this.anime):h[39]&&this.x<=115200-this.speed?(this.x+=this.speed,this.anime<8&&++this.anime):(this.anime>0&&(this.anime-=2),this.anime<0&&(this.anime+=2)),h[38]&&this.y>this.speed&&(this.y-=this.speed),h[40]&&this.y<=204800-this.speed&&(this.y+=this.speed)},e.draw=function(){!function(t,e,n){var i=s[t],r=i.x,a=i.y,u=i.w,f=i.h,h=(e>>8)-u/2,c=(n>>8)-f/2,y=l.get();if(!(h+u/2<y.x||h-u/2>=y.x+225||c+f/2<y.y||c-f/2>=y.y+400)){var d=o.getImage();m.drawImage(d,r,a,u,f,h,c,u,f)}}(2+(this.anime>>2),this.x,this.y)},t}(),f=function(){function t(t,e){this.x=t,this.y=e}var e=t.prototype;return e.get=function(){return{x:this.x,y:this.y}},e.set=function(t){var e=t.x,n=t.y;this.x=e,this.y=n},t}(),h=[],c=new u,l=new f(0,0),y=document.getElementById("can"),d=y.getContext("2d");y.width=450,y.height=800;var p=document.createElement("canvas"),m=p.getContext("2d");function v(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}p.width=450,p.height=800;var g=0,w=0,b=Date.now();document.onkeydown=function(t){h[t.keyCode]=!0},document.onkeyup=function(t){h[t.keyCode]=!1};var S=[],I=function(){function t(){this.reset()}var e=t.prototype;return e.reset=function(){this.x=r(0,450)<<8,this.y=r(0,800)<<8,this.vx=0,this.vy=r(30,300),this.sz=r(1,2)},e.draw=function(t){var e=this.x>>8,n=this.y>>8;e<t.x||e>=t.x+225||n<t.y||n>=t.y+400||(m.fillStyle=0!==r(0,2)?"#66f":"#8af",m.fillRect(e,n,this.sz,this.sz))},e.update=function(){this.x+=this.vx,this.y+=this.vy,this.y>204800&&this.reset()},t}();var j=function(){!function(t){for(var e,n=v(t);!(e=n()).done;){e.value.update()}}(S)},M=function(){!function(t){m.fillStyle="black";var e=l.get();m.fillRect(e.x,e.y,225,400);for(var n,i=v(t);!(n=i()).done;){n.value.draw(e)}c.draw();var r={x:(c.x>>8)/450*225,y:(c.y>>8)/800*400};l.set(r),d.drawImage(p,r.x,r.y,225,400,0,0,450,800)}(S),g++,b+1e3<=Date.now()&&(w=g,g=0,b=Date.now()),d.font="20px 'Impact'",d.fillStyle="white",d.fillText("FPS: "+w,20,20)};window.onload=function(){return function(){for(var t=0;t<300;++t)S[t]=new I;setInterval(j,i),requestInterval(M,Math.floor(i/4))}()}}]);